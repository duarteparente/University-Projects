<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa5</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa5</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Fun&#231;&#245;es gerais da Tarefa 5</a></li><li><a href="#g:2">Fun&#231;&#245;es de tracking (Onde se encontra um elemento em rela&#231;&#227;o a um jogador no labirinto)</a></li><li><a href="#g:3">Fun&#231;&#245;es de decis&#227;o de jogadas</a></li><li><a href="#g:4">Fun&#231;&#227;o final da Tarefa 5</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o</h1><p>Esta tarefa teve como objetivo a cria&#231;&#227;o de jogadas para os fantasmas. Foi uma tarefa desafiante, pelo que o mais 
 importante a ter em conta foi quais s&#227;o as melhores rea&#231;&#245;es dos fantasmas ao pacman e criar uma estrat&#233;gia para eles 
 executarem.</p><h1>Objetivos</h1><p>Compreender o objetivo da tarefa n&#227;o foi muito complicado. Todos os data types que foram necess&#225;rios para a completar j&#225; 
 tinham sido anteriormente definidos em tarefas anteriores, aos quais j&#225; est&#225;vamos portanto habituados a utilizar 
 (principalmente desde a tarefa 2).</p><p>Sabendo que todas as jogadas dos fantasmas em modo Alive s&#227;o rea&#231;&#245;es ao pacman, tivemos que criar uma grande quantidade 
 de fun&#231;&#245;es que comparam coordenadas de jogadores e a localiza&#231;&#227;o deles no labirinto. O nosso objetivo foi fazer os
 fanstamas perseguir constantemente o pacman pelo melhor caminho poss&#237;vel. O mais desafiante nesse aspecto, foi fazer os 
 fantasmas reagir ao tunel no caso em que passar pelo mesmo seja a melhor jogada para apanhar o pacman. Para tal, foi 
 necess&#225;rio ter em conta uma grande quantidade de situa&#231;&#245;es diferentes em conta, o que tornou o c&#243;digo desta tarefa mais 
 complexo.</p><p>No modo Dead, os fantasmas n&#227;o s&#227;o muito reactivos, visto que apenas seguem um caminho em linha reta at&#233; se encontrarem 
 com uma parede, o que os faz virar para a sua direita e continuar o caminho em linha reta. Visto que &#233; uma movimenta&#231;&#227;o 
 bastante simples, foi muito provavelmente a parte mais f&#225;cil de codificar nesta tarefa.</p><p>Para inverter a dire&#231;&#227;o dos fantasmas quando eles entram em modo Dead, fizemos umas altera&#231;&#245;es na tarefa 2. Foi 
 adicionada uma fun&#231;&#227;o auxiliar que inverte a dire&#231;&#227;o de um fantasma, tendo usado a mesma no caso em que o pacman come 
 uma Comida Grande.</p><h1>Discuss&#227;o e conclus&#227;o</h1><p>Embora tenha tido alguns desafios, esta tarefa deixou-nos bastante entusiasmados, principalmente tendo em conta que foi 
 ela que tornou o nosso jogo no seu estado final, onde todos os elementos est&#227;o funcionais.</p><p>Apesar disso, alguns aspectos desta tarefa n&#227;o ficaram exatamente como n&#243;s gostar&#237;amos que tivessem ficado, tendo sido o 
 principal motivo o curto tempo que conseguimos dedicar &#224; mesma. Um exemplo &#233; a codifica&#231;&#227;o desta fase do trabalho, que 
 poderia provavelmente estar mais compacta e eficaz.</p><p>Para concluir, embora n&#227;o esteja perfeita, esta tarefa cumpriu o seu objetivo de criar jogadas para os fantasmas, o que 
 j&#225; foi um motivo de contentamento.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:pCoords">pCoords</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>]</li><li class="src short"><a href="#v:difCoordsI">difCoordsI</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:difCoords">difCoords</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:difCoordsC">difCoordsC</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:difCoordsHT">difCoordsHT</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Maybe Int</li><li class="src short"><a href="#v:whereTunH">whereTunH</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:whereTunV">whereTunV</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:pertoDoTunel">pertoDoTunel</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:wherePacH">wherePacH</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:wherePacV">wherePacV</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:basicGPlayA">basicGPlayA</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:collideGPlayA">collideGPlayA</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:decideGPlayA">decideGPlayA</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:chaseMode">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:basicGPlayD">basicGPlayD</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:collideGPlayD">collideGPlayD</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:decideGPlayD">decideGPlayD</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:scatterMode">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:playToList">playToList</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li><li class="src short"><a href="#v:ghostPlay">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Fun&#231;&#245;es gerais da Tarefa 5</h1></a><div class="top"><p class="src"><a id="v:pCoords" class="def">pCoords</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>] <a href="#v:pCoords" class="selflink">#</a></p><div class="doc"><p>Lista das coordenadas de lista de jogadores</p></div></div><div class="top"><p class="src"><a id="v:difCoordsI" class="def">difCoordsI</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:difCoordsI" class="selflink">#</a></p><div class="doc"><p>Distancia entre dois players em coordenadas</p></div></div><div class="top"><p class="src"><a id="v:difCoords" class="def">difCoords</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:difCoords" class="selflink">#</a></p><div class="doc"><p>Distancia entre um fantasma e as coordenadas para onde ele vai para apanhar o pacman</p></div></div><div class="top"><p class="src"><a id="v:difCoordsC" class="def">difCoordsC</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:difCoordsC" class="selflink">#</a></p><div class="doc"><p>Distancia em coordenadas entre uma coordenade e um player</p></div></div><div class="top"><p class="src"><a id="v:difCoordsHT" class="def">difCoordsHT</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; Maybe Int <a href="#v:difCoordsHT" class="selflink">#</a></p><div class="doc"><p>Distancia horizontal entre uma coordenada e um player (para usar com o tunel)</p></div></div><a href="#g:2" id="g:2"><h1>Fun&#231;&#245;es de tracking (Onde se encontra um elemento em rela&#231;&#227;o a um jogador no labirinto)</h1></a><div class="top"><p class="src"><a id="v:whereTunH" class="def">whereTunH</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:whereTunH" class="selflink">#</a></p><div class="doc"><p>Mostra se o tunel est&#227; &#224; direita ou &#224; esquerda de um jogador</p></div></div><div class="top"><p class="src"><a id="v:whereTunV" class="def">whereTunV</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:whereTunV" class="selflink">#</a></p><div class="doc"><p>Mostra se o tunel est&#225; acima ou abaixo de um jogador</p></div></div><div class="top"><p class="src"><a id="v:pertoDoTunel" class="def">pertoDoTunel</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> <a href="#v:pertoDoTunel" class="selflink">#</a></p><div class="doc"><p>D&#225; as coordenadas do tunel no qual o fantasma tem que entrar no caso de ser a melhor jogada para apanhar o pacman</p></div></div><div class="top"><p class="src"><a id="v:wherePacH" class="def">wherePacH</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:wherePacH" class="selflink">#</a></p><div class="doc"><p>Mostra se um player est&#225; &#224; direita ou &#224; esquerda de outro jogador</p></div></div><div class="top"><p class="src"><a id="v:wherePacV" class="def">wherePacV</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> <a href="#v:wherePacV" class="selflink">#</a></p><div class="doc"><p>Mostra se um player est&#225; acima ou abaixo de outro jogador</p></div></div><a href="#g:3" id="g:3"><h1>Fun&#231;&#245;es de decis&#227;o de jogadas</h1></a><div class="top"><p class="src"><a id="v:basicGPlayA" class="def">basicGPlayA</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:basicGPlayA" class="selflink">#</a></p><div class="doc"><p>Decide a jogada para um fantasma apanhar o pacman.</p></div></div><div class="top"><p class="src"><a id="v:collideGPlayA" class="def">collideGPlayA</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:collideGPlayA" class="selflink">#</a></p><div class="doc"><p>Decide a jogada para um fantasma apanhar o pacman no caso de ele se encontrar com uma parede.</p></div></div><div class="top"><p class="src"><a id="v:decideGPlayA" class="def">decideGPlayA</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:decideGPlayA" class="selflink">#</a></p><div class="doc"><p>Decide a jogada final para o fantasma apanhar o pacman            </p></div></div><div class="top"><p class="src"><a id="v:chaseMode" class="def">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:chaseMode" class="selflink">#</a></p><div class="doc"><p>Jogada do fantasma para apanhar o pacman</p></div></div><div class="top"><p class="src"><a id="v:basicGPlayD" class="def">basicGPlayD</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:basicGPlayD" class="selflink">#</a></p><div class="doc"><p>Jogada basica do fantasma quando ele est&#225; em modo Dead</p></div></div><div class="top"><p class="src"><a id="v:collideGPlayD" class="def">collideGPlayD</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:collideGPlayD" class="selflink">#</a></p><div class="doc"><p>Jogada do fantasma em modo Dead quando ele se encontra com uma parede</p></div></div><div class="top"><p class="src"><a id="v:decideGPlayD" class="def">decideGPlayD</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:decideGPlayD" class="selflink">#</a></p><div class="doc"><p>Decide a jogada final para o fantasma em modo Dead</p></div></div><div class="top"><p class="src"><a id="v:scatterMode" class="def">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a> <a href="#v:scatterMode" class="selflink">#</a></p><div class="doc"><p>Jogada do fantasma em modo Dead</p></div></div><div class="top"><p class="src"><a id="v:playToList" class="def">playToList</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:playToList" class="selflink">#</a></p><div class="doc"><p>Cria uma lista de jogadas, uma para cada fantasma</p></div></div><a href="#g:4" id="g:4"><h1>Fun&#231;&#227;o final da Tarefa 5</h1></a><div class="top"><p class="src"><a id="v:ghostPlay" class="def">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>] <a href="#v:ghostPlay" class="selflink">#</a></p><div class="doc"><p>Devolve um conjunto de jogadas, uma para cada fantasma</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>