<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa4</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa4</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Fun&#231;&#245;es relativas ao timeMega</a></li><li><a href="#g:2">Fun&#231;&#227;o que faz jogar todos os jogadores</a></li><li><a href="#g:3">Fun&#231;&#227;o final da Tarefa 4</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><h1>Introdu&#231;&#227;o </h1><p>A Tarefa 4 tem como objetivo reagir &#224; passagem do tempo. Com uma primeira parte direcionada apenas para a transforma&#231;&#227;o do jogo est&#225;tico que possu&#237;amos no final da 
 Tarefa 2, foi necess&#225;ria a intera&#231;&#227;o com a biblioteca NCurses que permite a altera&#231;&#227;o do estado do jogo atrav&#233;s de inputs do pr&#243;prio utilizador. J&#225; a segunda parte 
 focava-se em determinados aspetos na movimenta&#231;&#227;o de todos os jogadores de forma a tornar o jogo o mais p&#243;ximo poss&#237;vel do original.</p><h1>Objetivos</h1><p>Apesar de dividida em duas partes, a dificuldade de ambas em nada se assemelha e o comparativo de tempo gasto entre as duas &#233; a prova disso mesmo. O verdadeiro entrave
 desta tarefa foi conseguir perceber a primeira parte, visto que sentimos uma dificuldade enorme em compreender tudo o que o controlo da passagem do tempo envolvia. S&#243; conseguimos
 progredir verdadeiramente na tarefa quando os docentes ajudaram na defini&#231;&#227;o das fun&#231;&#245;es do m&#243;dulo Main, mas a partir da&#237; tudo o resto se tornou mais claro.</p><p>Na segunda parte da tarefa, na parte ligada &#224; movimenta&#231;&#227;o pouco foi feito na pr&#243;rpria Tarefa 4. Determinados aspetos, quer pedidos no enunciado quer alguns adicionados &#224; nossa conta
 foram maioritariamente acrescentados &#224; Tarefa 2, visto ser esta a tarefa que controla todas as envolv&#234;ncias de uma jogada.
 Primeiramente foi necess&#225;rio a reformula&#231;&#227;o de algumas fun&#231;&#245;es definidas anteriormente de forma a suportar jogadas dos fantasmas, necess&#225;rias para esta tarefa e para a Tarefa 5.
 Depois preocupamo-nos em garantir que existe a abertura e fecho da boca do Pacman a cada movimenta&#231;&#227;o do mesmo, e s&#243; depois nos desbro&#231;ados nas velocidades.
 Essa parte n&#227;o foi clara logo de seguida, mas assim que conseguimos perceber a rela&#231;&#227;o entre o step e o tempo, tornou-se bastante f&#225;cil relacion&#225;-lo com a velocidade que os players 
 devem assumir. Tendo uma aten&#231;&#227;o particular ao TimeMega (que definimos como 10 segundos) fazendo-o diminuir a cada segundo, e garantindo que os modos dos players voltam ao normal quando este
 chega a 0.  
 No nosso jogo como n&#227;o implement&#225;mos um sistema de n&#237;veis s&#243; existem dois valores de velocidade. </p><p>Para al&#233;m do que estava estipulado no enunciado acrescentamos ainda uma funcionalidade no m&#243;dulo Main que termina o jogo quando o Pacman fica sem vidas (modo Dying), ou seja, o utilizador 
 perde o jogo. Tomamos ainda a liberdade de dar um reset nas posi&#231;&#245;es dos players quando o Pacman morre, tal como no jogo original.
 &#201; importante tamb&#233;m salientar que depois de conclu&#237;da a Tarefa 5 as jogadas para os fantasmas foram substitu&#236;das pelas jogadas provis&#243;rias que tinhamos nesta mesma tarefa, tornando assim o jogo mais
 apelativo e desafiante.        </p><h1>Discuss&#227;o e conclus&#227;o</h1><p>Para concluir, esta foi a &#250;nica tarefa que n&#227;o conseguimos fazer tudo o que pretend&#237;amos. O plano inicial para a tarefa continha a cria&#231;&#227;o de um sistema de n&#237;veis, mas a n&#227;o utiliza&#231;&#227;o do biblioteca
 Gloss acabou por nos fazer adiar a ideia, at&#233; acabarmos mesmo por n&#227;o o fazer. Contudo, n&#227;o deixamos de ficar satisfeitos com o resultado alcan&#231;ado, j&#225; que para al&#233;m de cobrirmos todo o enunciado, fomos 
 capazes de adicionar outras funcionalidades que ajudaram a melhorar o jogo.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:setPlayerNormal">setPlayerNormal</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:timeMegaZero">timeMegaZero</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>]</li><li class="src short"><a href="#v:subtrai">subtrai</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a></li><li class="src short"><a href="#v:mega">mega</a> :: Int -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:normalPlay">normalPlay</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:State" title="Types">State</a></li><li class="src short"><a href="#v:passTime">passTime</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Fun&#231;&#245;es relativas ao timeMega</h1></a><div class="top"><p class="src"><a id="v:setPlayerNormal" class="def">setPlayerNormal</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:setPlayerNormal" class="selflink">#</a></p><div class="doc"><p>Devolve um Player convertido ao estado normal </p></div></div><div class="top"><p class="src"><a id="v:timeMegaZero" class="def">timeMegaZero</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; [<a href="Types.html#t:Player" title="Types">Player</a>] <a href="#v:timeMegaZero" class="selflink">#</a></p><div class="doc"><p>Atualiza uma lista de jogadores quando o timeMega acaba</p></div></div><div class="top"><p class="src"><a id="v:subtrai" class="def">subtrai</a> :: <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:Player" title="Types">Player</a> <a href="#v:subtrai" class="selflink">#</a></p><div class="doc"><p>Diminui o timeMega do Player</p></div></div><div class="top"><p class="src"><a id="v:mega" class="def">mega</a> :: Int -&gt; <a href="Types.html#t:Player" title="Types">Player</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:mega" class="selflink">#</a></p><div class="doc"><p>Devolve o state atualizado conforme ap&#243;s um determinado n&#250;mero de itera&#231;&#245;es</p></div></div><a href="#g:2" id="g:2"><h1>Fun&#231;&#227;o que faz jogar todos os jogadores</h1></a><div class="top"><p class="src"><a id="v:normalPlay" class="def">normalPlay</a> :: [<a href="Types.html#t:Player" title="Types">Player</a>] -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:normalPlay" class="selflink">#</a></p><div class="doc"><p>Devolve o state atualizado ap&#243;s a jogada de todos os jogadores</p></div></div><a href="#g:3" id="g:3"><h1>Fun&#231;&#227;o final da Tarefa 4</h1></a><div class="top"><p class="src"><a id="v:passTime" class="def">passTime</a> :: Int -&gt; <a href="Types.html#t:State" title="Types">State</a> -&gt; <a href="Types.html#t:State" title="Types">State</a> <a href="#v:passTime" class="selflink">#</a></p><div class="doc"><p>Altera o estado do jogo em uma itera&#231;&#227;o</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>